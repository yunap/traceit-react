(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>l});const o=require("react"),n={left:[.5,.4,.6],top_left:[.65,.5,.85],top_right:[.85,.75,.95],top:[.75,.65,.85],right:[1,.9,1.1],bottom_right:[.1,.05,.2],bottom_left:[.35,.25,.45]},r={strokeColor:"#00ff00",strokeWidth:2,strokeOpacity:1,fillOpacity:0,gapPoint:"top_left",redrawSpeed:3500,canvasPadding:15,onEndTrace:()=>{},onClick:()=>{}},l=(e,t,l,a)=>{const s={...r,...a},[i,c]=((0,o.useRef)(null),(0,o.useState)(l)),d=e=>{const{onClick:t}=s;e.preventDefault(),t(e)},p=(e,t,o,n,r)=>({x:e+o*Math.cos(r),y:t+n*Math.sin(r)});(0,o.useEffect)((()=>{const o=e.current;if(!o||t)return;const n=document.createElement("canvas"),r=n.getContext("2d");((e,t,o)=>{const n=o.canvasPadding;let{width:r,height:l,left:a,top:s}=t.getBoundingClientRect();const{scrollLeft:i,scrollTop:c}=document.documentElement||document.body.parentNode||document.body;a+=i-n/2,s+=c-n/2,r+=n,l+=n,e.width=parseInt(r),e.height=parseInt(l),e.style.position="absolute",e.style.left=`${parseInt(a)}px`,e.style.top=`${parseInt(s)}px`})(n,o,s);const l=((e,t,o,n)=>{const r=[],l=parseInt((e-o)/2),a=parseInt((t-o)/2),s=l+o/2,i=a+o/2,{percent:c,percent2:d,percent3:u}=f(n),h=2*Math.PI/100;for(let e=100*c;e<=100;e++){const t=p(s,i,l,a,e*h);r.push(t)}for(let e=0;e<100*d;e++){const t=p(s,i,l,a,e*h);r.push(t)}const y=o/(u>d?100*(u-d):100*(1-d+u));for(let e=100*d,t=y;e<=100*u;e++,t+=y){const o=p(s,i,l+t,a+t,e*h);r.push(o)}return r})(n.width,n.height,s.canvasPadding,s.gapPoint);return(()=>{const{strokeColor:e,strokeWidth:t,strokeOpacity:o,fillOpacity:a,redrawSpeed:i,onEndTrace:c}=s;let d=null;const p=s=>{d||(d=s);const f=s-d,h=Math.min(f/i,1);r.clearRect(0,0,n.width,n.height),r.save(),r.beginPath();const y=Math.floor(h*l.length);for(let e=0;e<y-1;e++)if(0===e)r.moveTo(l[e].x,l[e].y);else{const t=l[e-1],o=l[e],n=l[e+1];r.bezierCurveTo(t.x,t.y,o.x,o.y,n.x,n.y)}r.strokeStyle=`rgba(${u(e)}, ${o})`,r.fillStyle=`rgba(${u(e)}, ${a})`,r.lineWidth=t,r.stroke(),f<i?requestAnimationFrame(p):c()};requestAnimationFrame(p)})(),n.addEventListener("click",d),window.addEventListener("resize",c),document.body.appendChild(n),()=>{window.removeEventListener("resize",c),n&&(n.removeEventListener("click",d),console.log("removing canvas"),document.body.removeChild(n))}}),[l,i,t]);const u=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?`${parseInt(t[1],16)}, ${parseInt(t[2],16)}, ${parseInt(t[3],16)}`:null},f=e=>{let t,o,r;return"string"!=typeof e&&"number"!=typeof e&&(console.log("Bad location value: "+e+" please specify value between 0% and 100%. Switching to default location 85%."),e="top_left"),"string"==typeof e?(null==n[e]&&(e="top_left"),t=n[e][0],o=n[e][1],r=n[e][2]):"number"==typeof e&&(t=e/100,t>1&&(t=.85,console.log("Bad location value: "+e+" please specify value between 0% and 100%. Switching to default location 85%.")),o=t-.1,o<0&&(o=1-o),r=t+.1,r>1&&(r-=1)),{percent:t,percent2:o,percent3:r}};return null};module.exports.index=t})();